//
// Created by andreas on 18.04.25.
//
#include "./../plates_between_candles.h"
#include "gtest/gtest.h"

TEST(TestPlatesBetweenCandles, simple1)
{
    std::string input{"**|**|***|"};
    std::vector<std::vector<int>> queries{{2, 5}, {5, 9}, {0, 9}};
    std::vector<int> expected_result{2, 3, 5};
    EXPECT_EQ(expected_result, plates_between_candles(input, queries));
}

TEST(TestPlatesBetweenCandles, simple2)
{
    std::string input{"***|**|*****|**||**|*"};
    std::vector<std::vector<int>> queries{{1, 17}, {4, 5}, {14, 17}, {5, 11}, {15, 16}};
    std::vector<int> expected_result{9, 0, 0, 0, 0};
    EXPECT_EQ(expected_result, plates_between_candles(input, queries));
}

TEST(TestPlatesBetweenCandles, complex1)
{
    std::string input{
        "||****|||||**|||*|||***||||||**|**|*|**||*|*|||*|||*||*||*||*||||||*|*|***||**|||||||*|**|||**||**|||*||***|*||||||||*|||||****|||||||||*||||*|||*||||||*||"
    };
    std::vector<std::vector<int>> queries{
        {26, 56}, {0, 146}, {5, 148}, {13, 145}, {3, 151}, {10, 144}, {4, 152}, {132, 147}, {7, 154}, {10, 143},
        {1, 154}, {4, 145}, {9, 141}, {1, 143}, {7, 142}, {12, 154}, {4, 150}, {73, 146}, {13, 142}, {6, 143}, {11, 80},
        {5, 154}, {7, 153}, {10, 147}, {10, 153}, {119, 148}, {64, 86}, {49, 115}, {9, 143}, {9, 145}, {11, 149},
        {4, 143}, {3, 145}, {7, 150}, {10, 152}, {54, 67}, {0, 152}, {25, 50}, {4, 153}, {8, 150}, {5, 142}, {7, 145},
        {15, 87}, {0, 142}, {9, 144}, {11, 141}, {2, 148}, {11, 154}, {3, 154}, {6, 144}, {8, 147}, {0, 141}, {0, 145},
        {9, 146}, {9, 153}, {3, 148}, {1, 153}, {43, 57}, {7, 147}, {2, 141}, {0, 153}, {11, 146}, {9, 142}, {12, 152},
        {12, 150}, {12, 145}, {5, 152}, {11, 144}, {130, 136}, {12, 141}, {2, 143}, {12, 143}, {4, 148}, {9, 148},
        {11, 152}, {4, 151}, {10, 148}, {68, 147}, {55, 133}, {6, 148}, {3, 141}, {6, 150}, {36, 64}, {20, 131},
        {19, 117}, {108, 143}, {10, 149}, {1, 149}, {0, 151}, {3, 152}, {6, 146}, {100, 148}, {3, 144}, {10, 150},
        {6, 154}, {10, 120}, {8, 143}, {6, 153}, {81, 147}, {13, 152}, {3, 149}, {6, 142}, {0, 150}, {7, 141}, {9, 151},
        {9, 149}, {3, 146}, {8, 151}, {1, 148}, {12, 151}, {0, 148}, {5, 146}, {8, 42}, {9, 152}, {2, 152}, {5, 153},
        {0, 154}, {106, 118}, {8, 149}, {1, 82}, {10, 142}, {4, 141}, {10, 146}, {8, 153}, {13, 150}, {6, 151},
        {87, 146}, {5, 149}, {64, 147}, {11, 142}, {35, 125}, {73, 138}, {7, 151}, {1, 150}, {9, 147}, {2, 149},
        {10, 151}, {125, 154}, {6, 149}, {12, 146}, {4, 142}, {2, 142}, {11, 143}, {7, 144}, {13, 151}, {52, 113},
        {3, 150}, {4, 147}, {42, 101}, {8, 144}, {0, 149}, {12, 149}, {2, 146}
    };
    std::vector<int> expected_result{
        12, 51, 47, 44, 47, 46, 47, 3, 48, 46, 52, 46, 45, 50, 46, 46, 47, 22, 44, 46, 25, 48, 48, 47, 48, 7, 8, 23, 46,
        46, 45, 46, 46, 47, 47, 2, 51, 10, 48, 47, 46, 46, 26, 50, 46, 43, 47, 46, 48, 46, 47, 49, 50, 47, 48, 47, 52,
        3, 47, 45, 52, 45, 46, 45, 45, 44, 47, 44, 0, 43, 46, 44, 47, 47, 45, 47, 47, 26, 26, 47, 45, 47, 9, 38, 36, 7,
        47, 51, 51, 47, 47, 13, 46, 47, 48, 40, 46, 48, 20, 45, 47, 46, 51, 45, 47, 47, 47, 47, 51, 45, 51, 47, 14, 47,
        47, 48, 52, 2, 47, 31, 46, 45, 47, 48, 45, 47, 17, 47, 27, 44, 29, 20, 47, 51, 47, 47, 47, 4, 47, 45, 46, 46,
        44, 46, 45, 22, 47, 47, 20, 46, 51, 45, 47
    };
    EXPECT_EQ(expected_result, plates_between_candles(input, queries));
}
