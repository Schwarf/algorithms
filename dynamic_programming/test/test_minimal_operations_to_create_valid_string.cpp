//
// Created by andreas on 30.07.24.
//
#include "gtest/gtest.h"
#include "./../minimal_operations_to_create_valid_string.h"

TEST(TestMinimalOperationsValiStringDP, simple1) {
    const std::string input{"aababbab"};
    constexpr int expected_result{2};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_dp(input));
}

TEST(TestMinimalOperationsValiStringDP, simple2) {
    const std::string input{"bbaaaaabb"};
    constexpr int expected_result{2};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_dp(input));
}

TEST(TestMinimalOperationsValiStringDP, simple3) {
    const std::string input{"bbbbbbbb"};
    constexpr int expected_result{0};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_dp(input));
}

TEST(TestMinimalOperationsValiStringDP, simple4) {
    const std::string input{"aaaaa"};
    constexpr int expected_result{0};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_dp(input));
}

TEST(TestMinimalOperationsValiStringDP, simple5) {
    const std::string input{"aaaaabbb"};
    constexpr int expected_result{0};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_dp(input));
}

TEST(TestMinimalOperationsValiStringDP, complex1) {
    const std::string input{
            "aaaabaabbbabaabbabbababaabbbbaabbbababaaaaabbbbabaaaaabbbabbbbaaaabbabbbbbaaaabbabaabaaaaabbaaaabbbbbaaabababbaabbaabbbbbabbbabbaaaaaaabbbbabbabbabbaabaababbbaababaaaaababbbbabbbbbbbbbabbaaaaababbbbbbbaabbbbbbabaaababbabbbbbaaabbabbaaaabbabaaaaababbabbbbaaababaaabaaabaaababababbaabbaaaaaabbbbabbaaaababbaaabbbaaaaabbbabbbabbbabbbbbaabbabbbabbaabaaabbaabaaaaaaaababbbabbaaabaaaaababaabbbaabbbaaabbaabbbbaaaaaabbabbabbbaaabbbbababbbabbbaaaabbababbabbabaabbbaabbbbaaabbbbbbbaaaaaaaabaabaabaabaaabaaabbabbaabbbbaaababbbaaaabaaaababbbababbbabbbbabbbbbbbaaabbbabaaabaaaaababbbabbbbbabbbababaabbabbbbabbaabbbabbbbabbbabbaaabbaabbbabbbabaabbabababbaaabbaaabbbbbabbbabbbaabbabbbbbababbbbabbabaaabaabaabbabaaabbaabbaaaaaaababaaaaabbababbababbbbbaababbaaaaaaabaabbbaababbabbbbaabaaaabbbaaaabababbaaaaabaaaaabbabbaaaabbabbaabbbabaaabbbabaaabbabaabbabbbbbabbaaaabaabbbaabbbabaabababbaabababaaabaabbbbabababaabbbbbaabaaaabaabbbbabbbbbbabbbabbbabbbaaaaabababbbbbaabbbbabbbbbbbbabbbaabaaaabababaaaaabbaabbbabbaabaabaaaaababbbabbabbabbbbbaaaabbabbaaabaaaababaaabbbbbbbaaaabaaaabaaaabbaabbabbbbbaabbaababbbabbbabbbabababbbaabaabbaaaabaabbababbaababaaaaabbaabbabbaaaabbababaababbbaababaabbaaaabababbbaababbaabbabbbbaababbbbabbaaabaabbbbaaabaabbbabbaaabaabbbaaaaaabbbbbaabaaabaababbbbbaaaababbbaabaaaaaabbbbaabbabbaabbaaabbaababababbabababaabbabbababaaabbbaabbaaabbbbbbaaabbabbbaabbababbabaababbaabaabbbababbbababbaababaaabaabbaabbbbaaabbbbbabababaabbbbbaaaabaaaabaaaaaabbabaababbbaaabbaaaaaaaaaabbbaaababbababbbbbabbbabaabbbbaabbabaaabbababaaababbaabbbabbbaaaabbabbaababaabaabbbaabbaababbaaabaabbaaaabbabaaababaaaaabbbbbbaabbbbaaababaabbbabaaababbabbbabbbbbabababaabbaaaababbbbaaabbabbaaaaabaabbbabbbaaabaabaababbbbaaabababbabababbaaaabbaaaabbabbbbaababababbaaabaaaabbbabbbaabbbabaaabaababaabaabbababbbbbabaabaabbbaabbaabbbaaaaabaaaabaaaabbabbabbbabaaaabbabaaaaababbaaaaaababbbabbababbbbbbaaaaaababbbbbababaabaaaaabbbbbbbbbbaaabaaabaaabbabababbbbbabbbabaababaabbaaabbbababbaabbaabaaabababbabbbbaabaaaaabaaaaabbabaabababaabaababbbabaaabbbbabbaaaabbabababbbabbbbbaabbbbbbbbabaabbabbbaaabbaabbaababbaaaabbabbaaabababbbaabaabbbabaabbaabaaaaabaaaaaaaabbbababbbaabababbbaaaabaaaaabaabaaaaababbabbabaaabbbaabbaaabaaaabbabbbbaaaabbbbbabaabbbbabbaababaaabbbaaabbaababbaabbbbbaabbabbbabaababbbbbabbbababbbbabababbbaabbbbaaaabaabbabababbbbababababbbababaabbabbbababaabbbbabbabbbaaaabababaababaaabbbbabbbbbabbaabbbbbababbabbbbabbaabaaabaaaabababbaaaaabbaabbbabbbbbaaaabbaaaabbaababbababaaaabbbaaaaaabbabaabbababababbbbaabaababbabbbbababbabaaababbaabaabaaaababbaabbaaaaaabaaaababbbabbbaababbbbbaaaabbaaaabaabbbabbbbaaabaababbabaabbbbababaaabbaaabbbaaaaababbabbabbbaaabbbabbbaabbaaaababbabbaaaaaabbaaaabaaaaaaabaaaabbbabbbbaaabaababbbaaababbbabbbaababbbabbaaababaabbabaaaaaabaabbaaaabbbaabbaaaaabbbaaaaaabababbbbbbbbaabaabaaabbbbbbaababbbabbababaaaabaabbbabbaaabbbbaaabbaaabbabaaaabaaabbabbaababbababbaabbabaaaabbabaaabaababaaaababbaabaabbaaabbbbbabbbbaabaaabbbaaabaababaaaabbaabaaaabaaabaababaabbaaababbbaababaaabaaabaababbabbbbabbabbbaababbbaaaababaabaabbaaabbaabbabaabbabbaabbaaaaaaababaabaaababbbbaabaabbaababaabbbababbababbaabaabbbbbbbaaaabbaabaabbaaaaabbabaabbbbbbabaababaaaabbabbbaababaabbbababababababbbaaaaabaaaaabaabaaabbaaaabbbbbabaaaaababbaababbbbbababbabbbbaaaaabaabbaabaababbabbaaabbbbbaaaabbabaaaababababaabbaababaababbaaaabbaaaabbabaaaaaaaabaababbbbaaabaabababbbbababbbabbbbbaaaabbabaaabbabbbbbbbbaabaabbabbbabaaaaabbbbbabaaabbaaabbbabababaababababaaaabbabaabbbaaababbaaaaaabababaaababaaaaabaaabaaaaaabaaaaabbabababababbaaabababaababbaabbaaabababbbbbbabaababbbbbaaabaaaabbbaabaabbbaaabaaaaabababbaabaababaaabaaaabbaabbabaababaababbaaabbabbbaaaaabbbbabbabbbbaaaaaaaaaabababaaaaababaabaabbbbabaabbbbbabaabaaababbbaaaabaaabbaabaabaabbbabbbbababaaabaaaaabbaabaababbbbbabaabbabbbbabababbbaaaaabaaabbabbaaabbbaabaaaaaaaaaaabaaabbaabbaabbbabababbabbababbbbaaabaabbbbabbbaaababbbabbaaabbbbbabbbabaabbabaabbabbbbbaababbabbbaaaababaabbbbbbaabbbaababbbaabbbbbaabbaababaabbbbabaaaaababbababbbbbaabbaabaaabababbaaaaabaabaaaabbababaaaaabaaabbbaabaaaaabababbaaaababbabbbbabbaaaaaaaabaaabaaababbaaaaaaabbaaabbbbabbbbaabaaaaababbbbbaabbbababbaaaaabbbbaabbbaaaaabaabbbaaabbbbbaaaaaaababababbbbaaabaaaaaaabbaabbbaaaaaaaaaaaabbababaabaaabbaaaabbbbbaabbbbbbbbbbbabaaababbabbbaaaabaabaababbabbabbaababbbbaabbabbbaaaabbbbabbaaabaaaababbbababaababaaabbbbbbabaaabbbbbbababbbbbaaabbbaaabbabbbbabbabbbbababaabbabbbbbbbbabbbbabbbaababbabbaaabbbbbababbabaababbaaaaabbaaababaabbbbaaabbbabbaababbabaababababbbababbabbbabbbbbbbbbbaabbaabbbbbbbbbbbbaaabbbaabaabbabbbbbbaabaaababaaaaaabbbbaabbabbbbabbbbabbbaaaaabaaabaabbaaaaaaaabbbbabbaababbbaaabbabbbaabaabaababbabbbbaabbabaaaaaababaabababaaababababaaaaaababababbababbaabaabababbabaabbaabbabbbbbaaababbabaabaaabbaababbaaabbbbababbbbababaababbbaaabbbbabaabbbbbabbbbabaabbbaababbbbbabbabbabaaaaaabbbabbabababbabaaabbaabaaababbababaabbbbbbabbabbaabaaaabaabaaababaaaaababbababbaabbaaabbbbbababaabbbaaaabaabbabbbbbbbbbabbbbaaaaababbbbabaabbaaabbbaabbbaaabbabaaaabaaabababbaabbaabaabbabbabaaaababbabbbbbbbbbbabaaabbbaabbbbaabbbabbaabbbabbabbabababaabbbbabbbaabbaaaaabaaaabbbabaabbbaababaaaabababbabbbaaabaaaabbbbbbaababaababbbbaaabaabbabbaaaaaaaabbbabaaabaababaababaaaaaaaabaaabbaaaaaaaababbbbbabaabbaabaabbbaaabbaababaaaaaabbbbabbaaabbaaaabaaabaabbbaaaabbabaaababbabbbabbaaabaababbbbbaababaabbbabaabaabababaabbbaababbabbbaabbbaaaaaaaabaababbbaababababababababbababbababababaaaabbbabaabbabbbbbbabbaaabaaabbaaaaaabbbabaaaabbbaaabaabaaababaaabaaabaaaabbbaabbaaabaaabaaaabbbbbbbaaaaaabababbaabaabbbbbbbaaabbbbabababbaaaaabbaaaaaababbbbbbaaababaababaaaababaaaabaaabbababbbababaababaabbaabbbabbabbabbbbbbaababbaabaaaabbaabaabaaabaaababaaabbbbaaaaabaaabbabbaaaabbababbbbbbbbbababbbabbaaaabaaaabbaaaaabaaabbaaabbabbbbaababaabbaaaaaabbaaababaaaababbbaaabbababaababaabbbaabbabbbbaabbbaaabbabbabbbababaabaabbaaaababbbabbbbbaabbbbabaababbbbaabbaabbaaabbaaaabbaaabbaababaaaaaabaabaabaabbbbbbabbbaabaaabbabbbaabbabbaaaabbbbababbaaaabbbbabbbabbbbabaaaababbbbbbbababbabbaaabaaaabbaaaabbabaababaababaabbaaababaaabaaabbababbaabaaaababaabbabbbaaabaabbaaaabaaabababbbbabababbabbbabbaaabbbbbabababbabaaaabababbaaaabbaaabaaabbbbbaababaaabababaabbbaabbabaabbababbbbaaabbbbbabbababbababbbbaaababaabbabbabaabaabbbbbbaaabaaaabbaabbbbbabaabaabbabababbbaabbabaababbbaaaaaaabbabababbbabbaaabbbababbabaaaaaabaababababaabbabbabbaaabbbbabbbbbabbbababababaabbaababbbabaaabbabbbbbbabbabbbabbabbbbabaaaaabbaabbabbbababbababaaaaaaabbbabbbbbbabbabababaababbaaaabbbabbbababaabbbbbaaabbaabaabbaaaabbbabbbbbaaabaababbabaababbaaabaaabaaabbbbabbaabaaabbabababbabaabababaaaaaaabbabbbbbbbaaaabbabbaabbabbbabbaaabbbbaaabababbaabbabbababbaaabaaababbababbaaabababbabaaaabbababbbaabaaababbbaabbabababbbbaabbbaababbbbaaabbababbababbaaababbbabbbbabaabbaaababababaabaabbaaabaaaaaaabbbabbaaaababbabbbbaabbababaabbaabbaaabbaabbabbaaababaaabababaababbbabaabbaabbbbaabbbabaaaaaabbaabaabaababaabbbbaaaababbbabbbabbbbbaaaababbaaabbbbabbabaaaabbbbbabbabababaaabbaaaaababbbbabaababbabbaaaaabaaabbbbabbbabbbaababbbbbabbbbbaaabaaaababaabbabbbaaababbabaaaabaaaabaaaaaaaababbaaaaaabbababaaabbaaababaabbbaaabbbbaaababbbbbaabbaaababaaaaaaaaaabbaaabbabbabbbabababbabbbbbbababaabbbbbbbabaabbbabbbaaaaaaaabbababaaababbbaaabbaababbbaabaaaaababbababbaaaabbbbaabbaabaaabbbbbabbaaaababbbbbabbaabaaabbaaabbaabbbaaaabbbaaaaaabbabababbbaaaaabbbabbbbbaabbbbbabababababaabbbaaaaabaabbbbaaaaaabbbaaabaaabaaabbbbabaabaaabaabaaabaaaabbabbbaabaaaaaabababbbabaaabbbbbbbbaaaabbbbbbabbbaaabaaababbabaaabaaaaabbaaaabbaaabaabaaabbbabaaabaababababaabbaaababbbaabbbbbbbbbbabbbbabaaaaaabbababbabbabaaaaaaabbbaaaaaabbbbaabbabbbbbbbbabaabbaaababbaabbabbbbbbbabbabbaaaabababaabbbaaabbbaaaaabbbabbbaabaabbabbbabaababaaaabbbaababbaababaaaaabbababbbabaaaabbbabaaaaaaaaabbbbbaabaaabbbaabaaaabbbaaaaaabbaaaaabbabbaaaabbaaaabaabaaabaaabbbabbbabaabbbbaaabaaabbbbbaaaaabbabababaabaaaaabaabaabbaabbbbabbbbaaababbbaaaabbaaababbbaaaaabaababbbabaabababbbabbbbabababaabaaabaabbbbabbbaabaaabababbaababbabbabbbaaabbaaaaaabbbbababbbabaaabbaabaababaaabbabababbbaabaabbbbbabbbbaaaaabaaabbbaabababaaabbbabbababaabbababbbaabbaabaaabbbaabaaabbbbbbbababababaaaabbbabaaaabbbaabbaababababbaabbbbbaaabbabaabaabaaaabaaabaaaabababbbbababbbaabbabbbbbbaaababbbabbaaabaaabbaaaabbbbaaaabbbbabbabbabbabbbbbaaababbabbaaabaabbabbbaabaaabbbabbaabbbbbbaaaabaabbbaabbaaabbbbbaabbbbbaaabaababbbbbabbaaaaaaabbbbbbbabaababbbabbabbbaaaabbbaabbaabbbababaaaaabbbbaababbbaabbabaaaaabbaababbbaaabbbaabbabaabbabababbbaabbaaaaaabbaabbbaabbbaabbbababbbbbbbabbbbabababbaaabbbbaaaababbbaaabbbaabbababbabbbbbaabaaaaaaabbbaabaaaaabbbaaaaabaabbabbaabbbbabaababbaabbbabbabaabaababbbaaaaaabaaaabbaababbaaaabbaabbbababbbabbaabbababbbbbbabbabaaabaabbabaaabbabbaaabaaaabaabaabaaabbbabbbbbaabababaabbbbabbaaaaaaabbbabbbbaaaabbbababbaaaababaaabbbabaaabaabaaabaabbbbbbaaaaaabaabbabbbbabbbbbbabaabbabababbaabaabaabbabbbabababbbabbabbabbbbbbbaaabbbabaaaaaabbabbbbabbaaaababbaaabaaaaaababbbbbaaababbaabababbbaaaabbbabbbbaaabbabbabbaaabbbbbababaabaaaaaabbaabbabbbabaaaabbabaaaaaaaaabbabbbabbaaaabbaaaaababbbabaabaaabbaabbaabaababbbaabababaababaabababaababaabaaabbbbaababbaaababbaaabaabbbababaabaaaabbabaababbabbbbaabbababbabbabbbbbababbaabaabbabaaabbbaaababbaaaabbbaabaabaabaaabbbbababaaaaaababababbbababbabbaabaabbabaababbaaabbbaaabaaaabaaabbbbabaaaabbabbbababababbbbbbbbabaaabbbbbbbbbababbbbbbababbbabbbbbaaaababbabaabbababaabaabbababbaaabaaaaaaabaabbbabbaabbbababbbbbbabaababbbbbabababbabaabbbbaabbbaaabababbaaabaababbbbbbababaaaabaaabaaaaabaaabbbabaabbbbbbbaabbaaaabbbaababbbabbbbbaaaaabbbaabbaaabaaabaabbababbabbbbaabbabbababbaaaabbaaabbabbabbabbbbbbbababaabbbaaabaabbaabaaabbabaaaababbabbababbabbbbbabbaababaaabbbbaaabbaabbabaaaaabbbbbaaabaaaaabaaaaababaabaaaabbabbbabbbaabbbabbaaabaabbbbaabbaaabaaabbbbabaababbbbbabaababbbbbaaaabbaaaabbaaaaababbbabbbbbbabaabbbbbbaabbbabaabbbbbbaababaabbaaabaaaaabbaaaaabbaababaaababbbabbaaaaabaaabbbaabbaabbabbbbaabbaaabbbbababbaaaabbaaabbabbabaabaaaaabbabababbbbbbbbbbbbbaababaaaabaabaabbbbbbbabaabaabaaabbaabaaababbbabaaaaaaaaabaabbbababbbabbbababbbbaaabbaabaaabbabaaabbaaabaaabbbbbbbbaabbbabbabbbbaababbaaababaabbaaabbaabaababbbabaaabaababbababbbaabaabbabbaaabaaaaaababbbbbbabbbaaabaabaaababbbaaaaabbbbbbaabbabbbabbaabbaaabbbabbbabbbababaaaaaababbbbaabaabbbababbbaaabaabaabababbaababbabaabaaabbbaaaaabbbababbaabbbabaabaaabbaaaaabbaababaaabaaabababbbbbaababbababababbbaabbaaabbbabbabbbbabaaaabbbaaabbbaaabbbbabaaababaabaabbaaaaabaaaaabbaaababbbabbbbaaaaabaabbbabaaabbaaabbabbbaaaabbabababbababaabababbbaaaaababababaabbbabbbbbaaaabaabbaaaabbbbbbbbaabbabbbaaabbbbabbaabbbbbababbbbbabaababaabbaabbbbabbbbbabababbbbbbaabbabbbabbbbbbaaababaabbabbabababaaaaaaababbbabbabaaaaabaaaabababaaabaabaabbabbbabaabaabbbaabbbaabbbbaabbbbbababaabaaabaaaaabbabaaaabbbbababaababbaabbbbbabbababaabbaabbaaababbbabbaabbaabababaabaabbbaaaabaabbaaabbbaabaabbaabbbbabbbbaabaaaababbbbbbaaaaaaabaabaaabbbbaaabbbabbabbaabbbabaaaababbbbabbbababbbaabbbaabbbbababbaabbbbababbbaaaabaababbaabbabbbabbabbbbbabaaaabaaaababaabbababbbabbabbbaababbbaabbbbbbabbabbbbabbbabbaabaabbbabbbaaababbaaaaabababbaaabbbaabaabbbbabaabaabbbaaaaabababaabbabbbaaabaaaaaababaabbabbaaaaabbaabbabbabbbaaabbaaaaabbaaaaababbbabbbbbbbababbaaaaabaaaabababbbabbabaabbbaaaababababaaabaabaaaabaabaaaabaaaaabbbbabbbbaabbbababbbbaaaaabaabbabababbabbbbaabbaabaaabbbaaaabababaaabbbabbbabaabaabbabaabbaaabbbbaabbabababaababbbbbbabaaaabaaabaabbaaababaaaaaabababbabaaaababaaaaaabaaaababbbababbbaaabaabaabaaaaababaaaaabbbabaaaaaabbbbbababbbbaaababaaaabbaabbbbbabaababaababbaababbbabaaabbbaaaaabbbaaaabaabbbaabaabaaabababaaababbabbabaabaaabaabbabaaaabaabbbbbbbbbbbaaababababaabbabababbbabbbbaababbaaaaabbaaabbbbababbabaaabbbbbbbbabbaabaabbbbbbbbbaabbbabbaabababaaababbababbaabbabbaaabbaabaaababaabaabbbabbabbabbaaaababbbbababbbbbbbbbbbabaababaaabaaababbabbbabbabaaaababbbbaaaaabbabbbbaaaabababbaabababababaabbbaabbabbbabbaaaabaabbaaaabbbaabbaaaaabaabababaabbaaaabbababbbaabaabbbaaabbabbbbaabbbbababbbaaaaabbbabbbaaaaabbaabaaabaaababbbbbaaaaabbbabbbbbabaaabbbaabbabaabbabbbababbaaabbaaabbabbbabaabaaabbaaabbabbbbababbabababbaabbbbabbbabbbaabbaaaaabbbabbaabbaaababbaaabbaabaaaaaaaabbabbbbaabaababaabbbbbabbaabbaabbaabaaabaabbaaaaaababbbaabbaaaaabbaabababbabbbbbaaaabbaaabbabbbabbaaaababaabaaaabaabaabbbbbabbabbbaabbbaaababaaababbabaaabbbbbbbaaaaabaaababbbaabababbbbaaabbaaaaaabababaababaabaaaabbbaabbbbabbbaaabbbabababaabbbaabaabbbabbbbbabbabbabbbbbbbbaaabbbabaababbbbabbaabbabbaabbabbabaaaaabbbbaabbabababbaabbbabbbabaaaaaabbabaabbbaaababbaabbabababbababbababababbbbbabbbabbbabaabbbabaaaaabbabaaaabbbbbabbbaabababbbababaababbbbaabaabbbbbbbbabbbbbbbbaabaabbaabbbabbabaabbabbabababaababaabaabababaaabbabaaaababbbbbbbabbabbbbbbbabbabbbabaababbbbbbbbbaaaaababbbbabbababaaabbababababaabbbbbbbbaaabbaababbababbbababbaabbbbaaabababbbabaabaaaabbaaabbbbbbabaaababbabababbabbaaaabaabaabaabbbababbaabbbbbabbaabbbababbbbababaabbaabaababbabbbabbaababaababbaabbabbaaaaaaaababbbbabbbaaaabbababbabbabbabaaaaabaabaaabbaabbbaaaabbbbababbaabaaaabbbaabbabbaaabbababababababababbbbbaaabababababbbabbabaaaabbaaabbbbabababbbabababbaabbaabbabbbbbbbababbabbbbabaabbababbaaabbbbabbaabbabbbbbbabbaaaaaabbaabaababbaabbaabbabbaabaabaaaaaaaababbbbbabbababbaababababaaabbbbabbababbbabaabbbaabaaaabaaabbaabbbaaaaaaaaababaaabbbbbaaaaaabbbaababbabbababaaaaaabbbbbbbbaaaabbbbbaabbaaaaabaabbabaaaaabaabbbabbbbbababbbbbbabbbbaaaabbaaaaaaabbbbbbbaabbbbabbabababaababbbaaabaaabaaaaabababbbabaabbbabaabaabaaabbababbaababbbbbabbaabbaabaabbaabbbbaabbaababbaaababbbaabbbbaaabababbbbbbabaabbbbbbabbbaabababbbbaabaabbaaababbaaababaababababbababaababaabbaaabbaabaaabbabbabbbabbabbbaaaababababaaaabbabaabbbbabbababbabaaaaabbbabbabbbbabaaabbaabaaabbbbabbabbbbbbabbabbaabbbaaabaaababbaaaaaaaaabbbbbaabbbaaaabaabbabbaaabbbaababaababababaaababbbaabbaaabbbabaabaabaaaabaaaababbaaabbabaabaabbbaaaaaaaabbabbbaababbaabababaaaaabababaababababbbbababababbaaababbbbbbabbbaababababbabaaaaabbbabaabaababababaaabbbbbbabbbbabbabbaaaabaaaabbaaaabbaabbbabbabbbabababbaabaabbbabbbbabbbaaabbababaabaabbbaabbbaaabbaabaabbabababaabbabbbbabaabbabababaabbbabbbbabbbbaababbabbbaabbbbaabbabaaaabaaabaababababbaaabaabbaaaabaaaaaaabaaaabaaabbbbbbbbaababbbabbabbaaaaaaaabbbaaabababaaaaaabbaabaabaababbbbbabaabbbabaaabbbbabbbabbbbbbbbbbbbbabbbbabaabbbababbabababbaabbbbbaaaabbababaababbbbbaabaaaababababbbbaaababbbbabaaaabbaaaaababaabaabbbabbbbbaabbbbaaabbbbbbbabbbababaaabaabbabbbbbaabababbaaabbbabaabbaaabbabaabbbaabbbaabbbaabaabbbbbbbbbbbbabbabbaabbbbbbbbabbababbbaabaabaaaaaaabaabbaabbbbbbaabbbbaaaabbbababbbaababbabbaaaaaabbabbbabbbababbbbbbbbababbaaabbaaaaaaababaaaaaabababbabbbbabbaabbabbbbbabbbbbbbaabbbbabababaabaababaaaabaabbbabaabbaabbabbbbabababbbbaaabbaababababbbbabbbbabaabaabbaaabbabbbbaabbbbabbaaabbbbbbbabababbabbabbabaababaaabbbbbbbbbbabbabaabbbbbbabbaabbabbbbaaaaaaaababbbbabbabbbbbbabbabaababbaabbabbbaabbaaaababaababbbabaabbababbbbabbababbbbbbabbbbababbababbbbbbababbbabaabbbaaababaaaabaabbbabbaabbbbaaabbabbaabbbbababababababbabababbbabaaaabbababaaabbbabaabbabbabaaaaabbaaaabbbababababbbabbbbaabaababaabbbabbaabbbbaaaaaaabaababaabaabbabaaabaabaababbaabbaaabbaabbaabaaababaaabbabbaabaaabaababaaabbbbbbaaabbabbbbabbbabaabaabababbabbbbbaaabbbbabaaabaaaaabbaaabababaaaaabbaaaaaaababababbbabbbbaabaabaabababbaabbbbaabbbaababbbbbabbaabbabbbbabbbbaabbaababbbaaabbabbabbaabaabbbbbaabaaabaabbaaaaabbaaabbabbaaaaaaaaabbbabbbbbbbbbbbbababbbabaaaaaabaabbbaaabaabaabababbabbabbaaaaaabaabaaaabbbabbaababbbabaaabbabbaaaabaaaabbaabababbbbbbbababbbbbabababbbaaabaabbaaaabbbbabbabbbbbbaaabbbbbbbbbbbababaabbbaaabbbaaaaaabbaabaabbababbaabbaababaabbbbaaaabaaaababaaaabaaaabababaaaaaaaaababababbbbaabbaabaaabaaaabaabbabaababaaaababbbababababbbabbbbbbbbbbbaabbbaaabbabaabababababaaabaaaabbaaabbabbaabbbbaaaaaabaabbaababbabbbbabbaababbababababbaaabaabbabaababbabbbbbaaabbbbbbaabbaaaaaaabbabbaabababaabbbbaabbabbaaaaaaaaabbbbababbabbbaabaaababbabbaaaaaabbaaabbbbaaaabbbbaaaabbbababaababbaaaabaaabbaababbbbbaaabbabbbabbbabaaabbaabaabbaaabaaaaabababbbbbaaababbbababaaaaabbbabbabbaaabbbbababbbbabaabbbbaaababbabbbaaabbbaaabaababaaaaaaaaaabbbabbabbabaaabaabababaabaaaaaaabaaaabbbbbaaabbbabbaabbbaaababaaabbaababbbbaaaabababbabababbaaaaaabaabbaabbbaabbabaabaaaaaaaaaaaaabaabbbabbaaaababbaabaaabbaabaaaababbaabbbaaaabbabbabbbabbbbabaaaababaabbaaabbbbbabbaababaabbbabababbbbabaaababbabbaaabbbbbaaabaabaababbabbaabaaababbbbaabaabbbbbbabbabbbbaabaababbbbbabbbbaaabababababbbaaaababaaaaaaabbaaaababbabbbbbbbbbbaaaabababbabbabbabaabbaaabaabbbbabaaaabbbbabbbabaabaabbabbbaababbababbbbabbbbabaaaababbaaabbaababbabaaaaaaaababaaaabbbababbbbaababbbbaabbbbaaabaaabbabbabbaabbbbbababbabbabbbbabbababbaaababbaabaaabbaabbabbabbbbbbbaaabaaabbbbaabbabbaaabbaabbabbaabbbaabbaabbbaaabbaaabbbaabaabbaaaaabbbbaaaababaabbbabababaaaabababbbaabbbbaaababbbabababaababababaaabaabbaabababaaaaabbbabbbbbaaaababbbababaaabbbabaababaaaabbabababbaabbabbbbabaabaaaabbaabbabbabbbbbaaaabaababbaaaabbabbbbbbbababbabababbbaabaaaabbbbababbabaaabbbbbababaabbbaaaaababbaabaabbaaabababaabbbbaabbabaabbabbaaababbabababbbbbbabaaaabbabbbaaabbbabbbabbabbbbbbaabaababaaaabbbaabababbaaaabaabbbbaabbbbbaabbabbbbaaaabbabbaaaaaaabbbbbbbabbbabaaabbbbabbbabbbbbaaaaaabbbbbabbbaabbbbaabbabbaabbba"};
    constexpr int expected_result{8294};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_dp(input));
}
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

TEST(TestMinimalOperationsValiStringStack, simple1) {
    const std::string input{"aababbab"};
    constexpr int expected_result{2};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_stack(input));
}

TEST(TestMinimalOperationsValiStringStack, simple2) {
    const std::string input{"bbaaaaabb"};
    constexpr int expected_result{2};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_stack(input));
}

TEST(TestMinimalOperationsValiStringStack, simple3) {
    const std::string input{"bbbbbbbb"};
    constexpr int expected_result{0};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_stack(input));
}

TEST(TestMinimalOperationsValiStringStack, simple4) {
    const std::string input{"aaaaa"};
    constexpr int expected_result{0};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_stack(input));
}

TEST(TestMinimalOperationsValiStringStack, simple5) {
    const std::string input{"aaaaabbb"};
    constexpr int expected_result{0};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_stack(input));
}

TEST(TestMinimalOperationsValiStringStack, complex1) {
    const std::string input{
            "aaaabaabbbabaabbabbababaabbbbaabbbababaaaaabbbbabaaaaabbbabbbbaaaabbabbbbbaaaabbabaabaaaaabbaaaabbbbbaaabababbaabbaabbbbbabbbabbaaaaaaabbbbabbabbabbaabaababbbaababaaaaababbbbabbbbbbbbbabbaaaaababbbbbbbaabbbbbbabaaababbabbbbbaaabbabbaaaabbabaaaaababbabbbbaaababaaabaaabaaababababbaabbaaaaaabbbbabbaaaababbaaabbbaaaaabbbabbbabbbabbbbbaabbabbbabbaabaaabbaabaaaaaaaababbbabbaaabaaaaababaabbbaabbbaaabbaabbbbaaaaaabbabbabbbaaabbbbababbbabbbaaaabbababbabbabaabbbaabbbbaaabbbbbbbaaaaaaaabaabaabaabaaabaaabbabbaabbbbaaababbbaaaabaaaababbbababbbabbbbabbbbbbbaaabbbabaaabaaaaababbbabbbbbabbbababaabbabbbbabbaabbbabbbbabbbabbaaabbaabbbabbbabaabbabababbaaabbaaabbbbbabbbabbbaabbabbbbbababbbbabbabaaabaabaabbabaaabbaabbaaaaaaababaaaaabbababbababbbbbaababbaaaaaaabaabbbaababbabbbbaabaaaabbbaaaabababbaaaaabaaaaabbabbaaaabbabbaabbbabaaabbbabaaabbabaabbabbbbbabbaaaabaabbbaabbbabaabababbaabababaaabaabbbbabababaabbbbbaabaaaabaabbbbabbbbbbabbbabbbabbbaaaaabababbbbbaabbbbabbbbbbbbabbbaabaaaabababaaaaabbaabbbabbaabaabaaaaababbbabbabbabbbbbaaaabbabbaaabaaaababaaabbbbbbbaaaabaaaabaaaabbaabbabbbbbaabbaababbbabbbabbbabababbbaabaabbaaaabaabbababbaababaaaaabbaabbabbaaaabbababaababbbaababaabbaaaabababbbaababbaabbabbbbaababbbbabbaaabaabbbbaaabaabbbabbaaabaabbbaaaaaabbbbbaabaaabaababbbbbaaaababbbaabaaaaaabbbbaabbabbaabbaaabbaababababbabababaabbabbababaaabbbaabbaaabbbbbbaaabbabbbaabbababbabaababbaabaabbbababbbababbaababaaabaabbaabbbbaaabbbbbabababaabbbbbaaaabaaaabaaaaaabbabaababbbaaabbaaaaaaaaaabbbaaababbababbbbbabbbabaabbbbaabbabaaabbababaaababbaabbbabbbaaaabbabbaababaabaabbbaabbaababbaaabaabbaaaabbabaaababaaaaabbbbbbaabbbbaaababaabbbabaaababbabbbabbbbbabababaabbaaaababbbbaaabbabbaaaaabaabbbabbbaaabaabaababbbbaaabababbabababbaaaabbaaaabbabbbbaababababbaaabaaaabbbabbbaabbbabaaabaababaabaabbababbbbbabaabaabbbaabbaabbbaaaaabaaaabaaaabbabbabbbabaaaabbabaaaaababbaaaaaababbbabbababbbbbbaaaaaababbbbbababaabaaaaabbbbbbbbbbaaabaaabaaabbabababbbbbabbbabaababaabbaaabbbababbaabbaabaaabababbabbbbaabaaaaabaaaaabbabaabababaabaababbbabaaabbbbabbaaaabbabababbbabbbbbaabbbbbbbbabaabbabbbaaabbaabbaababbaaaabbabbaaabababbbaabaabbbabaabbaabaaaaabaaaaaaaabbbababbbaabababbbaaaabaaaaabaabaaaaababbabbabaaabbbaabbaaabaaaabbabbbbaaaabbbbbabaabbbbabbaababaaabbbaaabbaababbaabbbbbaabbabbbabaababbbbbabbbababbbbabababbbaabbbbaaaabaabbabababbbbababababbbababaabbabbbababaabbbbabbabbbaaaabababaababaaabbbbabbbbbabbaabbbbbababbabbbbabbaabaaabaaaabababbaaaaabbaabbbabbbbbaaaabbaaaabbaababbababaaaabbbaaaaaabbabaabbababababbbbaabaababbabbbbababbabaaababbaabaabaaaababbaabbaaaaaabaaaababbbabbbaababbbbbaaaabbaaaabaabbbabbbbaaabaababbabaabbbbababaaabbaaabbbaaaaababbabbabbbaaabbbabbbaabbaaaababbabbaaaaaabbaaaabaaaaaaabaaaabbbabbbbaaabaababbbaaababbbabbbaababbbabbaaababaabbabaaaaaabaabbaaaabbbaabbaaaaabbbaaaaaabababbbbbbbbaabaabaaabbbbbbaababbbabbababaaaabaabbbabbaaabbbbaaabbaaabbabaaaabaaabbabbaababbababbaabbabaaaabbabaaabaababaaaababbaabaabbaaabbbbbabbbbaabaaabbbaaabaababaaaabbaabaaaabaaabaababaabbaaababbbaababaaabaaabaababbabbbbabbabbbaababbbaaaababaabaabbaaabbaabbabaabbabbaabbaaaaaaababaabaaababbbbaabaabbaababaabbbababbababbaabaabbbbbbbaaaabbaabaabbaaaaabbabaabbbbbbabaababaaaabbabbbaababaabbbababababababbbaaaaabaaaaabaabaaabbaaaabbbbbabaaaaababbaababbbbbababbabbbbaaaaabaabbaabaababbabbaaabbbbbaaaabbabaaaababababaabbaababaababbaaaabbaaaabbabaaaaaaaabaababbbbaaabaabababbbbababbbabbbbbaaaabbabaaabbabbbbbbbbaabaabbabbbabaaaaabbbbbabaaabbaaabbbabababaababababaaaabbabaabbbaaababbaaaaaabababaaababaaaaabaaabaaaaaabaaaaabbabababababbaaabababaababbaabbaaabababbbbbbabaababbbbbaaabaaaabbbaabaabbbaaabaaaaabababbaabaababaaabaaaabbaabbabaababaababbaaabbabbbaaaaabbbbabbabbbbaaaaaaaaaabababaaaaababaabaabbbbabaabbbbbabaabaaababbbaaaabaaabbaabaabaabbbabbbbababaaabaaaaabbaabaababbbbbabaabbabbbbabababbbaaaaabaaabbabbaaabbbaabaaaaaaaaaaabaaabbaabbaabbbabababbabbababbbbaaabaabbbbabbbaaababbbabbaaabbbbbabbbabaabbabaabbabbbbbaababbabbbaaaababaabbbbbbaabbbaababbbaabbbbbaabbaababaabbbbabaaaaababbababbbbbaabbaabaaabababbaaaaabaabaaaabbababaaaaabaaabbbaabaaaaabababbaaaababbabbbbabbaaaaaaaabaaabaaababbaaaaaaabbaaabbbbabbbbaabaaaaababbbbbaabbbababbaaaaabbbbaabbbaaaaabaabbbaaabbbbbaaaaaaababababbbbaaabaaaaaaabbaabbbaaaaaaaaaaaabbababaabaaabbaaaabbbbbaabbbbbbbbbbbabaaababbabbbaaaabaabaababbabbabbaababbbbaabbabbbaaaabbbbabbaaabaaaababbbababaababaaabbbbbbabaaabbbbbbababbbbbaaabbbaaabbabbbbabbabbbbababaabbabbbbbbbbabbbbabbbaababbabbaaabbbbbababbabaababbaaaaabbaaababaabbbbaaabbbabbaababbabaababababbbababbabbbabbbbbbbbbbaabbaabbbbbbbbbbbbaaabbbaabaabbabbbbbbaabaaababaaaaaabbbbaabbabbbbabbbbabbbaaaaabaaabaabbaaaaaaaabbbbabbaababbbaaabbabbbaabaabaababbabbbbaabbabaaaaaababaabababaaababababaaaaaababababbababbaabaabababbabaabbaabbabbbbbaaababbabaabaaabbaababbaaabbbbababbbbababaababbbaaabbbbabaabbbbbabbbbabaabbbaababbbbbabbabbabaaaaaabbbabbabababbabaaabbaabaaababbababaabbbbbbabbabbaabaaaabaabaaababaaaaababbababbaabbaaabbbbbababaabbbaaaabaabbabbbbbbbbbabbbbaaaaababbbbabaabbaaabbbaabbbaaabbabaaaabaaabababbaabbaabaabbabbabaaaababbabbbbbbbbbbabaaabbbaabbbbaabbbabbaabbbabbabbabababaabbbbabbbaabbaaaaabaaaabbbabaabbbaababaaaabababbabbbaaabaaaabbbbbbaababaababbbbaaabaabbabbaaaaaaaabbbabaaabaababaababaaaaaaaabaaabbaaaaaaaababbbbbabaabbaabaabbbaaabbaababaaaaaabbbbabbaaabbaaaabaaabaabbbaaaabbabaaababbabbbabbaaabaababbbbbaababaabbbabaabaabababaabbbaababbabbbaabbbaaaaaaaabaababbbaababababababababbababbababababaaaabbbabaabbabbbbbbabbaaabaaabbaaaaaabbbabaaaabbbaaabaabaaababaaabaaabaaaabbbaabbaaabaaabaaaabbbbbbbaaaaaabababbaabaabbbbbbbaaabbbbabababbaaaaabbaaaaaababbbbbbaaababaababaaaababaaaabaaabbababbbababaababaabbaabbbabbabbabbbbbbaababbaabaaaabbaabaabaaabaaababaaabbbbaaaaabaaabbabbaaaabbababbbbbbbbbababbbabbaaaabaaaabbaaaaabaaabbaaabbabbbbaababaabbaaaaaabbaaababaaaababbbaaabbababaababaabbbaabbabbbbaabbbaaabbabbabbbababaabaabbaaaababbbabbbbbaabbbbabaababbbbaabbaabbaaabbaaaabbaaabbaababaaaaaabaabaabaabbbbbbabbbaabaaabbabbbaabbabbaaaabbbbababbaaaabbbbabbbabbbbabaaaababbbbbbbababbabbaaabaaaabbaaaabbabaababaababaabbaaababaaabaaabbababbaabaaaababaabbabbbaaabaabbaaaabaaabababbbbabababbabbbabbaaabbbbbabababbabaaaabababbaaaabbaaabaaabbbbbaababaaabababaabbbaabbabaabbababbbbaaabbbbbabbababbababbbbaaababaabbabbabaabaabbbbbbaaabaaaabbaabbbbbabaabaabbabababbbaabbabaababbbaaaaaaabbabababbbabbaaabbbababbabaaaaaabaababababaabbabbabbaaabbbbabbbbbabbbababababaabbaababbbabaaabbabbbbbbabbabbbabbabbbbabaaaaabbaabbabbbababbababaaaaaaabbbabbbbbbabbabababaababbaaaabbbabbbababaabbbbbaaabbaabaabbaaaabbbabbbbbaaabaababbabaababbaaabaaabaaabbbbabbaabaaabbabababbabaabababaaaaaaabbabbbbbbbaaaabbabbaabbabbbabbaaabbbbaaabababbaabbabbababbaaabaaababbababbaaabababbabaaaabbababbbaabaaababbbaabbabababbbbaabbbaababbbbaaabbababbababbaaababbbabbbbabaabbaaababababaabaabbaaabaaaaaaabbbabbaaaababbabbbbaabbababaabbaabbaaabbaabbabbaaababaaabababaababbbabaabbaabbbbaabbbabaaaaaabbaabaabaababaabbbbaaaababbbabbbabbbbbaaaababbaaabbbbabbabaaaabbbbbabbabababaaabbaaaaababbbbabaababbabbaaaaabaaabbbbabbbabbbaababbbbbabbbbbaaabaaaababaabbabbbaaababbabaaaabaaaabaaaaaaaababbaaaaaabbababaaabbaaababaabbbaaabbbbaaababbbbbaabbaaababaaaaaaaaaabbaaabbabbabbbabababbabbbbbbababaabbbbbbbabaabbbabbbaaaaaaaabbababaaababbbaaabbaababbbaabaaaaababbababbaaaabbbbaabbaabaaabbbbbabbaaaababbbbbabbaabaaabbaaabbaabbbaaaabbbaaaaaabbabababbbaaaaabbbabbbbbaabbbbbabababababaabbbaaaaabaabbbbaaaaaabbbaaabaaabaaabbbbabaabaaabaabaaabaaaabbabbbaabaaaaaabababbbabaaabbbbbbbbaaaabbbbbbabbbaaabaaababbabaaabaaaaabbaaaabbaaabaabaaabbbabaaabaababababaabbaaababbbaabbbbbbbbbbabbbbabaaaaaabbababbabbabaaaaaaabbbaaaaaabbbbaabbabbbbbbbbabaabbaaababbaabbabbbbbbbabbabbaaaabababaabbbaaabbbaaaaabbbabbbaabaabbabbbabaababaaaabbbaababbaababaaaaabbababbbabaaaabbbabaaaaaaaaabbbbbaabaaabbbaabaaaabbbaaaaaabbaaaaabbabbaaaabbaaaabaabaaabaaabbbabbbabaabbbbaaabaaabbbbbaaaaabbabababaabaaaaabaabaabbaabbbbabbbbaaababbbaaaabbaaababbbaaaaabaababbbabaabababbbabbbbabababaabaaabaabbbbabbbaabaaabababbaababbabbabbbaaabbaaaaaabbbbababbbabaaabbaabaababaaabbabababbbaabaabbbbbabbbbaaaaabaaabbbaabababaaabbbabbababaabbababbbaabbaabaaabbbaabaaabbbbbbbababababaaaabbbabaaaabbbaabbaababababbaabbbbbaaabbabaabaabaaaabaaabaaaabababbbbababbbaabbabbbbbbaaababbbabbaaabaaabbaaaabbbbaaaabbbbabbabbabbabbbbbaaababbabbaaabaabbabbbaabaaabbbabbaabbbbbbaaaabaabbbaabbaaabbbbbaabbbbbaaabaababbbbbabbaaaaaaabbbbbbbabaababbbabbabbbaaaabbbaabbaabbbababaaaaabbbbaababbbaabbabaaaaabbaababbbaaabbbaabbabaabbabababbbaabbaaaaaabbaabbbaabbbaabbbababbbbbbbabbbbabababbaaabbbbaaaababbbaaabbbaabbababbabbbbbaabaaaaaaabbbaabaaaaabbbaaaaabaabbabbaabbbbabaababbaabbbabbabaabaababbbaaaaaabaaaabbaababbaaaabbaabbbababbbabbaabbababbbbbbabbabaaabaabbabaaabbabbaaabaaaabaabaabaaabbbabbbbbaabababaabbbbabbaaaaaaabbbabbbbaaaabbbababbaaaababaaabbbabaaabaabaaabaabbbbbbaaaaaabaabbabbbbabbbbbbabaabbabababbaabaabaabbabbbabababbbabbabbabbbbbbbaaabbbabaaaaaabbabbbbabbaaaababbaaabaaaaaababbbbbaaababbaabababbbaaaabbbabbbbaaabbabbabbaaabbbbbababaabaaaaaabbaabbabbbabaaaabbabaaaaaaaaabbabbbabbaaaabbaaaaababbbabaabaaabbaabbaabaababbbaabababaababaabababaababaabaaabbbbaababbaaababbaaabaabbbababaabaaaabbabaababbabbbbaabbababbabbabbbbbababbaabaabbabaaabbbaaababbaaaabbbaabaabaabaaabbbbababaaaaaababababbbababbabbaabaabbabaababbaaabbbaaabaaaabaaabbbbabaaaabbabbbababababbbbbbbbabaaabbbbbbbbbababbbbbbababbbabbbbbaaaababbabaabbababaabaabbababbaaabaaaaaaabaabbbabbaabbbababbbbbbabaababbbbbabababbabaabbbbaabbbaaabababbaaabaababbbbbbababaaaabaaabaaaaabaaabbbabaabbbbbbbaabbaaaabbbaababbbabbbbbaaaaabbbaabbaaabaaabaabbababbabbbbaabbabbababbaaaabbaaabbabbabbabbbbbbbababaabbbaaabaabbaabaaabbabaaaababbabbababbabbbbbabbaababaaabbbbaaabbaabbabaaaaabbbbbaaabaaaaabaaaaababaabaaaabbabbbabbbaabbbabbaaabaabbbbaabbaaabaaabbbbabaababbbbbabaababbbbbaaaabbaaaabbaaaaababbbabbbbbbabaabbbbbbaabbbabaabbbbbbaababaabbaaabaaaaabbaaaaabbaababaaababbbabbaaaaabaaabbbaabbaabbabbbbaabbaaabbbbababbaaaabbaaabbabbabaabaaaaabbabababbbbbbbbbbbbbaababaaaabaabaabbbbbbbabaabaabaaabbaabaaababbbabaaaaaaaaabaabbbababbbabbbababbbbaaabbaabaaabbabaaabbaaabaaabbbbbbbbaabbbabbabbbbaababbaaababaabbaaabbaabaababbbabaaabaababbababbbaabaabbabbaaabaaaaaababbbbbbabbbaaabaabaaababbbaaaaabbbbbbaabbabbbabbaabbaaabbbabbbabbbababaaaaaababbbbaabaabbbababbbaaabaabaabababbaababbabaabaaabbbaaaaabbbababbaabbbabaabaaabbaaaaabbaababaaabaaabababbbbbaababbababababbbaabbaaabbbabbabbbbabaaaabbbaaabbbaaabbbbabaaababaabaabbaaaaabaaaaabbaaababbbabbbbaaaaabaabbbabaaabbaaabbabbbaaaabbabababbababaabababbbaaaaababababaabbbabbbbbaaaabaabbaaaabbbbbbbbaabbabbbaaabbbbabbaabbbbbababbbbbabaababaabbaabbbbabbbbbabababbbbbbaabbabbbabbbbbbaaababaabbabbabababaaaaaaababbbabbabaaaaabaaaabababaaabaabaabbabbbabaabaabbbaabbbaabbbbaabbbbbababaabaaabaaaaabbabaaaabbbbababaababbaabbbbbabbababaabbaabbaaababbbabbaabbaabababaabaabbbaaaabaabbaaabbbaabaabbaabbbbabbbbaabaaaababbbbbbaaaaaaabaabaaabbbbaaabbbabbabbaabbbabaaaababbbbabbbababbbaabbbaabbbbababbaabbbbababbbaaaabaababbaabbabbbabbabbbbbabaaaabaaaababaabbababbbabbabbbaababbbaabbbbbbabbabbbbabbbabbaabaabbbabbbaaababbaaaaabababbaaabbbaabaabbbbabaabaabbbaaaaabababaabbabbbaaabaaaaaababaabbabbaaaaabbaabbabbabbbaaabbaaaaabbaaaaababbbabbbbbbbababbaaaaabaaaabababbbabbabaabbbaaaababababaaabaabaaaabaabaaaabaaaaabbbbabbbbaabbbababbbbaaaaabaabbabababbabbbbaabbaabaaabbbaaaabababaaabbbabbbabaabaabbabaabbaaabbbbaabbabababaababbbbbbabaaaabaaabaabbaaababaaaaaabababbabaaaababaaaaaabaaaababbbababbbaaabaabaabaaaaababaaaaabbbabaaaaaabbbbbababbbbaaababaaaabbaabbbbbabaababaababbaababbbabaaabbbaaaaabbbaaaabaabbbaabaabaaabababaaababbabbabaabaaabaabbabaaaabaabbbbbbbbbbbaaababababaabbabababbbabbbbaababbaaaaabbaaabbbbababbabaaabbbbbbbbabbaabaabbbbbbbbbaabbbabbaabababaaababbababbaabbabbaaabbaabaaababaabaabbbabbabbabbaaaababbbbababbbbbbbbbbbabaababaaabaaababbabbbabbabaaaababbbbaaaaabbabbbbaaaabababbaabababababaabbbaabbabbbabbaaaabaabbaaaabbbaabbaaaaabaabababaabbaaaabbababbbaabaabbbaaabbabbbbaabbbbababbbaaaaabbbabbbaaaaabbaabaaabaaababbbbbaaaaabbbabbbbbabaaabbbaabbabaabbabbbababbaaabbaaabbabbbabaabaaabbaaabbabbbbababbabababbaabbbbabbbabbbaabbaaaaabbbabbaabbaaababbaaabbaabaaaaaaaabbabbbbaabaababaabbbbbabbaabbaabbaabaaabaabbaaaaaababbbaabbaaaaabbaabababbabbbbbaaaabbaaabbabbbabbaaaababaabaaaabaabaabbbbbabbabbbaabbbaaababaaababbabaaabbbbbbbaaaaabaaababbbaabababbbbaaabbaaaaaabababaababaabaaaabbbaabbbbabbbaaabbbabababaabbbaabaabbbabbbbbabbabbabbbbbbbbaaabbbabaababbbbabbaabbabbaabbabbabaaaaabbbbaabbabababbaabbbabbbabaaaaaabbabaabbbaaababbaabbabababbababbababababbbbbabbbabbbabaabbbabaaaaabbabaaaabbbbbabbbaabababbbababaababbbbaabaabbbbbbbbabbbbbbbbaabaabbaabbbabbabaabbabbabababaababaabaabababaaabbabaaaababbbbbbbabbabbbbbbbabbabbbabaababbbbbbbbbaaaaababbbbabbababaaabbababababaabbbbbbbbaaabbaababbababbbababbaabbbbaaabababbbabaabaaaabbaaabbbbbbabaaababbabababbabbaaaabaabaabaabbbababbaabbbbbabbaabbbababbbbababaabbaabaababbabbbabbaababaababbaabbabbaaaaaaaababbbbabbbaaaabbababbabbabbabaaaaabaabaaabbaabbbaaaabbbbababbaabaaaabbbaabbabbaaabbababababababababbbbbaaabababababbbabbabaaaabbaaabbbbabababbbabababbaabbaabbabbbbbbbababbabbbbabaabbababbaaabbbbabbaabbabbbbbbabbaaaaaabbaabaababbaabbaabbabbaabaabaaaaaaaababbbbbabbababbaababababaaabbbbabbababbbabaabbbaabaaaabaaabbaabbbaaaaaaaaababaaabbbbbaaaaaabbbaababbabbababaaaaaabbbbbbbbaaaabbbbbaabbaaaaabaabbabaaaaabaabbbabbbbbababbbbbbabbbbaaaabbaaaaaaabbbbbbbaabbbbabbabababaababbbaaabaaabaaaaabababbbabaabbbabaabaabaaabbababbaababbbbbabbaabbaabaabbaabbbbaabbaababbaaababbbaabbbbaaabababbbbbbabaabbbbbbabbbaabababbbbaabaabbaaababbaaababaababababbababaababaabbaaabbaabaaabbabbabbbabbabbbaaaababababaaaabbabaabbbbabbababbabaaaaabbbabbabbbbabaaabbaabaaabbbbabbabbbbbbabbabbaabbbaaabaaababbaaaaaaaaabbbbbaabbbaaaabaabbabbaaabbbaababaababababaaababbbaabbaaabbbabaabaabaaaabaaaababbaaabbabaabaabbbaaaaaaaabbabbbaababbaabababaaaaabababaababababbbbababababbaaababbbbbbabbbaababababbabaaaaabbbabaabaababababaaabbbbbbabbbbabbabbaaaabaaaabbaaaabbaabbbabbabbbabababbaabaabbbabbbbabbbaaabbababaabaabbbaabbbaaabbaabaabbabababaabbabbbbabaabbabababaabbbabbbbabbbbaababbabbbaabbbbaabbabaaaabaaabaababababbaaabaabbaaaabaaaaaaabaaaabaaabbbbbbbbaababbbabbabbaaaaaaaabbbaaabababaaaaaabbaabaabaababbbbbabaabbbabaaabbbbabbbabbbbbbbbbbbbbabbbbabaabbbababbabababbaabbbbbaaaabbababaababbbbbaabaaaababababbbbaaababbbbabaaaabbaaaaababaabaabbbabbbbbaabbbbaaabbbbbbbabbbababaaabaabbabbbbbaabababbaaabbbabaabbaaabbabaabbbaabbbaabbbaabaabbbbbbbbbbbbabbabbaabbbbbbbbabbababbbaabaabaaaaaaabaabbaabbbbbbaabbbbaaaabbbababbbaababbabbaaaaaabbabbbabbbababbbbbbbbababbaaabbaaaaaaababaaaaaabababbabbbbabbaabbabbbbbabbbbbbbaabbbbabababaabaababaaaabaabbbabaabbaabbabbbbabababbbbaaabbaababababbbbabbbbabaabaabbaaabbabbbbaabbbbabbaaabbbbbbbabababbabbabbabaababaaabbbbbbbbbbabbabaabbbbbbabbaabbabbbbaaaaaaaababbbbabbabbbbbbabbabaababbaabbabbbaabbaaaababaababbbabaabbababbbbabbababbbbbbabbbbababbababbbbbbababbbabaabbbaaababaaaabaabbbabbaabbbbaaabbabbaabbbbababababababbabababbbabaaaabbababaaabbbabaabbabbabaaaaabbaaaabbbababababbbabbbbaabaababaabbbabbaabbbbaaaaaaabaababaabaabbabaaabaabaababbaabbaaabbaabbaabaaababaaabbabbaabaaabaababaaabbbbbbaaabbabbbbabbbabaabaabababbabbbbbaaabbbbabaaabaaaaabbaaabababaaaaabbaaaaaaababababbbabbbbaabaabaabababbaabbbbaabbbaababbbbbabbaabbabbbbabbbbaabbaababbbaaabbabbabbaabaabbbbbaabaaabaabbaaaaabbaaabbabbaaaaaaaaabbbabbbbbbbbbbbbababbbabaaaaaabaabbbaaabaabaabababbabbabbaaaaaabaabaaaabbbabbaababbbabaaabbabbaaaabaaaabbaabababbbbbbbababbbbbabababbbaaabaabbaaaabbbbabbabbbbbbaaabbbbbbbbbbbababaabbbaaabbbaaaaaabbaabaabbababbaabbaababaabbbbaaaabaaaababaaaabaaaabababaaaaaaaaababababbbbaabbaabaaabaaaabaabbabaababaaaababbbababababbbabbbbbbbbbbbaabbbaaabbabaabababababaaabaaaabbaaabbabbaabbbbaaaaaabaabbaababbabbbbabbaababbababababbaaabaabbabaababbabbbbbaaabbbbbbaabbaaaaaaabbabbaabababaabbbbaabbabbaaaaaaaaabbbbababbabbbaabaaababbabbaaaaaabbaaabbbbaaaabbbbaaaabbbababaababbaaaabaaabbaababbbbbaaabbabbbabbbabaaabbaabaabbaaabaaaaabababbbbbaaababbbababaaaaabbbabbabbaaabbbbababbbbabaabbbbaaababbabbbaaabbbaaabaababaaaaaaaaaabbbabbabbabaaabaabababaabaaaaaaabaaaabbbbbaaabbbabbaabbbaaababaaabbaababbbbaaaabababbabababbaaaaaabaabbaabbbaabbabaabaaaaaaaaaaaaabaabbbabbaaaababbaabaaabbaabaaaababbaabbbaaaabbabbabbbabbbbabaaaababaabbaaabbbbbabbaababaabbbabababbbbabaaababbabbaaabbbbbaaabaabaababbabbaabaaababbbbaabaabbbbbbabbabbbbaabaababbbbbabbbbaaabababababbbaaaababaaaaaaabbaaaababbabbbbbbbbbbaaaabababbabbabbabaabbaaabaabbbbabaaaabbbbabbbabaabaabbabbbaababbababbbbabbbbabaaaababbaaabbaababbabaaaaaaaababaaaabbbababbbbaababbbbaabbbbaaabaaabbabbabbaabbbbbababbabbabbbbabbababbaaababbaabaaabbaabbabbabbbbbbbaaabaaabbbbaabbabbaaabbaabbabbaabbbaabbaabbbaaabbaaabbbaabaabbaaaaabbbbaaaababaabbbabababaaaabababbbaabbbbaaababbbabababaababababaaabaabbaabababaaaaabbbabbbbbaaaababbbababaaabbbabaababaaaabbabababbaabbabbbbabaabaaaabbaabbabbabbbbbaaaabaababbaaaabbabbbbbbbababbabababbbaabaaaabbbbababbabaaabbbbbababaabbbaaaaababbaabaabbaaabababaabbbbaabbabaabbabbaaababbabababbbbbbabaaaabbabbbaaabbbabbbabbabbbbbbaabaababaaaabbbaabababbaaaabaabbbbaabbbbbaabbabbbbaaaabbabbaaaaaaabbbbbbbabbbabaaabbbbabbbabbbbbaaaaaabbbbbabbbaabbbbaabbabbaabbba"};
    constexpr int expected_result{8294};
    EXPECT_EQ(expected_result, operations_to_create_valid_string_stack(input));
}

