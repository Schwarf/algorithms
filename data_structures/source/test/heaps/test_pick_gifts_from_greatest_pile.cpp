//
// Created by andreas on 19.12.24.
//
#include "heaps/pick_gifts_from_greatest_pile.h"
#include "gtest/gtest.h"


TEST(TestPickGiftsFromGreatestPile, simple1)
{
    std::vector<int> gifts{25, 64, 9, 4, 100};
    constexpr int k{4};
    constexpr int expected_result{29};
    EXPECT_EQ(expected_result, pick_gifts(gifts, k));
}


TEST(TestPickGiftsFromGreatestPile, simple2)
{
    std::vector<int> gifts{1, 1, 1, 1};
    constexpr int k{4};
    constexpr int expected_result{4};
    EXPECT_EQ(expected_result, pick_gifts(gifts, k));
}

TEST(TestPickGiftsFromGreatestPile, medium1)
{
    std::vector<int> gifts{
        54, 6, 34, 66, 63, 52, 39, 62, 46, 75, 28, 65, 18, 37, 18, 13, 33, 69, 19, 40, 13, 10, 43, 61, 72
    };
    constexpr int k{7};
    constexpr int expected_result{618};
    EXPECT_EQ(expected_result, pick_gifts(gifts, k));
}


TEST(TestPickGiftsFromGreatestPile, medium2)
{
    std::vector<int> gifts{
        13, 51, 26, 34, 46, 61, 73, 22, 27, 8, 21, 21, 44, 68, 33, 16, 57, 23, 2, 61, 53, 73, 66, 40, 46, 50, 33, 20,
        72, 2, 59, 11, 43, 6, 70, 36, 18, 31, 62
    };
    constexpr int k{23};
    constexpr int expected_result{422};
    EXPECT_EQ(expected_result, pick_gifts(gifts, k));
}


TEST(TestPickGiftsFromGreatestPile, complex1)
{
    std::vector<int> gifts{
        277447314, 118310771, 637284340, 480126814, 298991099, 942778922, 900247775, 235716951, 410939651, 412382676,
        800988470, 544186494, 995788544, 364828445, 245142248, 884916595, 633755967, 283341357, 95538515, 47254920,
        166199332, 338804388, 673177554, 627258756, 605120786, 520807684, 67966053, 566199164, 514795459, 466754836,
        342993082, 413961206, 782932161, 936479788, 26083187, 125196116, 466271469, 651927787, 713408922, 143430045,
        817802338, 152193103, 950432467, 33417145, 127674247, 757523702, 461462676, 266159282, 34134712, 675727789,
        292051549, 283646066, 412635621, 123941519, 369175073, 313134902, 401301124, 661615040, 862300585, 684142965,
        203520924, 799996292, 885295417, 581665551, 581883340, 64001023, 363724811, 553397918, 592958641, 14982734,
        173326981, 974996954, 531990484, 879933541, 23572172, 684140763, 926612438, 276872895, 356032426, 147820046,
        369413297, 106646924, 658693080, 602627224, 448452237, 848961191, 813717945, 72654432, 270071114, 612574228,
        111873833, 559098406, 80618797, 924736701, 629427828, 137719900, 521057294, 37214919, 558588258, 902626715,
        839555846, 239864938, 372932870, 103955258, 598921821, 898011389, 759554521, 232964692, 190257414, 744837733,
        712279807, 247125745, 428458062, 216257204, 653673609, 749882117, 800254259, 471355840, 374108782, 169609965,
        289024386, 773909051, 960554006, 374235502, 587634763, 915119004, 215599574, 232001374, 500073727, 889293620,
        336870604, 137937556, 297233452, 602474313, 713452490, 833422936, 826340142, 490238, 89423367, 708977807,
        879750831, 352274758, 331099815, 936547427, 758471680, 839707680, 347106546, 37698028, 90805418, 656821710,
        15161391, 313967079, 862588992, 123113940, 178759311, 764348279, 295607032, 216260878, 550518710, 595575221,
        371884257, 928859582, 482206281, 95464747, 445192564, 539801284, 571125322, 892799169, 439349216, 131756881,
        86299274, 637341562, 497097959, 348032590, 186975560, 318436308, 258814689, 674657943, 469178241, 723306024,
        750258777, 307876479, 33656371, 24594365, 897108668, 8827159, 685512611, 908021440, 289151764, 81790922,
        935086547, 709967990, 336203144, 340294856, 588245160, 701681481, 308630333, 52004499, 841038234, 760705297,
        267160621, 912050914, 953826805, 743369556, 554700494, 150343625, 278713160, 641184510, 60223764, 843913018,
        417271186, 449463941, 301588363, 625377607, 242064221, 272159144, 335811193, 977670888, 868195580, 572084113,
        525594624, 954969164, 481907929, 760495241, 131945520, 454895422, 402085067, 182037617, 559119982, 55066018,
        248047607, 758284369, 867514208, 512518304, 411995500, 32864329, 256076469, 87081685, 331031917, 105679248,
        885260978, 196084925, 970816672, 138169170, 469943565, 16314519, 959405910, 809487662, 388881135, 564234187,
        444426705, 133745366, 566222261, 264713415, 536691720, 302463231, 288354574, 434024366, 463324375, 505433120,
        748810513, 995237498, 62658268, 176343057, 761464744, 952320320, 917089435, 562891986, 383647867, 217393190,
        267594929, 162296495, 237628182, 857843579, 323023608, 847042303, 156012533, 200016926, 592359727, 268864419,
        584297473, 29261114, 194615219, 249788247, 927916901, 881147015, 774994847, 448147860, 993476616, 948689825,
        757235058, 168410058, 261293273, 814174124, 601265848, 138319669, 946038388, 894715782, 624295329, 731441999,
        180388935, 799923766, 266237773, 562657069, 831022048, 321464193, 857493226, 931688982, 918578752, 853637994,
        761173761, 796700009, 22585925, 775179599, 494864069, 848236565, 971551925, 909897075, 214517534, 66965450,
        442425679, 180184425, 409113049, 542807979, 416508165, 228158890, 413184208, 572538496, 564929623, 529550508,
        110633924, 136119802, 918913425, 92300082, 572099247, 12512096, 965425577, 885875796, 959718320, 87769456,
        11325177, 801953096, 260951384, 800685460, 425059237, 483595365, 723808264, 296125603, 442867416, 370755823,
        710642430, 425518671, 277298329, 779746785, 82286377, 958342715, 818246862, 169345221, 629246541, 260565548,
        795395363, 225375085, 921274429, 48689888, 817768382, 917190889, 57617226, 548977930, 868772763, 71978045,
        744234556, 479162942, 267348924, 483839649, 762506661, 835323846, 963138705, 817544285, 710283541, 144406453,
        644054147, 673102563, 945038573, 547271492, 310477419, 14486681, 642490235, 158630137, 377098772, 716023047,
        384377513, 394090955, 890876381, 319280760, 538750350, 688974286, 739038427, 272202303, 143470852, 24161346,
        514803857, 866416691, 788256928, 894944132, 918508644, 214326843, 653441184, 426175347, 364403467, 508445754,
        323646943, 472846257, 149596058, 510501606, 879095129, 317720441, 868357283, 752673818, 980409982, 356350846,
        374736678, 916078219, 684897040, 647564042, 408779867, 425053412, 621430218, 430861447, 746829255, 961350191,
        538499005, 319872279, 724326984, 874970344, 812979053, 606352530, 905481795, 252588022, 202733076, 463130543,
        232341516, 284710476, 552302039, 179755674, 547240058, 150608729, 867288643, 641414898, 555536163, 812379611,
        966423982, 570942704, 834944685, 978471107, 543652462, 897857436, 887260919, 695214004, 510946445, 984695040,
        366913862, 278071436, 465384878, 323895513, 489849622, 973193804, 698503361, 565566502, 56003253, 847673707,
        783303982, 208654030, 275942910, 492651616, 742357555, 73843694, 19626478, 216097394, 641227505, 110825226,
        918781893, 275257648, 852451258, 1126821, 886332016, 937998667, 232554010, 961995328, 198645552, 663737286,
        186387009, 974113951, 710052469, 386955246, 654335896, 871638174, 287413066, 9675139, 724238392, 705089529,
        17706230, 22173814, 652373956, 984056203, 996915983, 179828234, 892559551, 934316932, 333292204, 882702128,
        253550267, 422031681, 883914447, 536663051, 792785416, 390066780, 921528305, 380875632, 94286883, 624998518,
        463788012, 839739109, 123846469, 751072882, 26557722, 824717428, 184888287, 15325803, 637668157, 570901433,
        292640655, 378803879, 792817420, 223998469, 934804627, 988757118, 412265324, 211321035, 342811761, 198078482,
        854295461, 192000172, 532905139, 706624030, 162292250, 656850752, 635023441, 542919803, 437751835, 630073586,
        673742096, 977694059, 924717293, 243408511, 972739792, 2951531, 58151534, 468295685, 963589628, 649056155,
        33662503, 694047302, 695401320, 696052377, 999473447, 145543186, 539515998, 91502289, 450242140, 333192250,
        356206287, 679612919, 983680245, 672455452, 994251922, 887284683, 664780957, 203006771, 767112284, 65994951,
        364134888, 148364025, 339434173, 705472123, 802111382, 294621390, 521888441, 516737288, 653876481, 980090564,
        354963036, 289453567, 961871881, 693596617, 83644947, 492480592, 863453423, 810295939, 171346659, 964265539,
        115614556, 550217608, 278039079, 600142438, 767538087, 434393145, 652843943, 480812423, 452344216, 720418742,
        170774551, 652273934, 991871016, 450067064, 822792447, 135724666, 736873179, 705319595, 872854462, 831339520,
        845633512, 120715438, 627630016, 830382771, 119654932, 900574581, 199743231, 801822993, 517841286, 315901879,
        737065393, 782721199, 107382355, 735057813, 820709580, 457165865, 281564926, 296486285, 843023052, 118797640,
        682131090, 381926163, 546618825, 886067533, 575544037, 860943355, 80241598, 8672577, 43913800, 652650238,
        15918024, 832732383, 148708216, 953863832, 131926941, 438196121, 413458017, 841620367, 516827171, 951253969,
        29042357, 336391530, 678516945, 880251883, 150796652, 91351561, 754736501, 420950110, 691385238, 621917477,
        804774568, 241714694, 52298700, 224667834, 442833692, 982423293, 987424188, 969050555, 29646751, 50646260,
        643259807, 839683444, 428845771, 142256255, 601583686, 785058577, 755215681, 319116372, 436685880, 434565945,
        957833793, 894798699, 586633960, 58817967, 797464862, 898538786, 478553743, 943145297, 582397347, 156127711,
        601904738, 968436514, 136487460, 691748959, 222601794, 631953717, 180769378, 892046626, 95866298, 619067126,
        504232258, 309031846, 287624994, 271351188, 227240273, 432866700, 735132347, 9656696, 928693538, 683285471,
        925840924, 55351506, 562070896, 830917406, 835552926, 75337639, 940816656, 11010560, 686635339, 305648132,
        165899582, 829671768, 151236017, 894037197, 817876255, 544712195, 144506935, 122961716
    };
    constexpr int k{988};
    constexpr long long expected_result{8469303};
    EXPECT_EQ(expected_result, pick_gifts(gifts, k));
}
