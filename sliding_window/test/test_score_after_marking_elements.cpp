//
// Created by andreas on 19.12.24.
//
#include "./../score_after_marking_elements.h"
#include "gtest/gtest.h"

TEST(TestScoreAfterMarkingElementsUsingHeap, simple1)
{
    std::vector<int> input{2, 1, 3, 4, 5, 2};
    constexpr int expected_result{7};
    EXPECT_EQ(expected_result, find_score_using_heap(input));
}

TEST(TestScoreAfterMarkingElementsUsingHeap, simple2)
{
    std::vector<int> input{2, 3, 5, 1, 3, 2};
    constexpr int expected_result{5};
    EXPECT_EQ(expected_result, find_score_using_heap(input));
}

TEST(TestScoreAfterMarkingElementsUsingHeap, medium1)
{
    std::vector<int> input{10, 44, 10, 8, 48, 30, 17, 38, 41, 27, 16, 33, 45, 45, 34, 30, 22, 3, 42, 42};
    constexpr int expected_result{212};
    EXPECT_EQ(expected_result, find_score_using_heap(input));
}

TEST(TestScoreAfterMarkingElementsUsingHeap, complex1)
{
    std::vector<int> input{
        23224, 590478, 459827, 334373, 739780, 464551, 36147, 726488, 180404, 291064, 387306, 764408, 64000, 816542,
        469595, 660824, 51259, 126552, 449567, 993399, 662232, 973591, 892834, 577819, 914610, 249034, 12861, 408598,
        256195, 856684, 741027, 217985, 884298, 816412, 856462, 932235, 266968, 535458, 100159, 3021, 509993, 14789,
        725405, 739432, 465602, 113229, 551000, 918077, 59215, 499391, 594540, 805358, 367652, 936070, 995586, 939698,
        763055, 337006, 553435, 685561, 697035, 528388, 588185, 551076, 902313, 381032, 8913, 419389, 242174, 317999,
        754718, 572662, 260562, 572596, 802611, 524209, 397300, 698325, 904903, 117978, 789849, 412441, 747036, 428755,
        673353, 778021, 347120, 646071, 536144, 100434, 123208, 657437, 478451, 964744, 581849, 923099, 601747, 779319,
        97515, 511982, 44575, 330282, 662725, 893240, 60783, 895047, 323391, 40122, 488331, 189402, 27666, 263299,
        373569, 856666, 278987, 287991, 501779, 268818, 62931, 40960, 705272, 923504, 926027, 58807, 758530, 625776,
        610707, 129677, 758726, 181479, 193016, 51894, 262091, 310008, 584912, 121558, 509479, 798493, 883643, 55270,
        78777, 950102, 202862, 884603, 419679, 625203, 82226, 652945, 250287, 429493, 304568, 34895, 401257, 236270,
        997577, 360003, 438692, 414927, 460785, 491013, 848127, 666239, 391678, 502894, 442301, 737828, 633667, 336404,
        994990, 1355, 539577, 890009, 847721, 292921, 626668, 207155, 794205, 963547, 439230, 139609, 560029, 14365,
        641840, 438897, 223789, 831789, 35102, 441505, 748433, 359411, 880323, 530827, 993671, 250070, 101470, 621914,
        486400, 378997, 820203, 843563, 595923, 29716, 966344, 10450, 280902, 368309, 166444, 389690, 224607, 683729,
        41928, 759769, 28779, 207085, 149399, 783853, 461886, 258455, 965580, 110977, 489617, 988591, 778069, 143354,
        919743, 915836, 209153, 436381, 356937, 946615, 585067, 575962, 284774, 634619, 333846, 334890, 875804, 140017,
        911142, 718385, 413020, 75226, 960809, 517291, 676021, 273024, 469475, 485984, 263427, 912982, 29312, 863924,
        776822, 450500, 748357, 75227, 766531, 911704, 759688, 97338, 765085, 4558, 679091, 230192, 854672, 33728,
        135681, 547567, 313287, 513458, 578679, 497016, 296437, 43470, 896328, 626201, 512648, 123067, 433505, 564224,
        859183, 623565, 491896, 741503, 152716, 953810, 551603, 309946, 13154, 95753, 926655, 748588, 158332, 469059,
        753341, 119010, 917338, 655521, 57586, 301553, 660032, 273360, 665669, 208707, 52226, 98329, 50764, 575461,
        2487, 832692, 923628, 668560, 363494, 807266, 188104, 743666, 722872, 401042, 895917, 87228, 361920, 489511,
        340814, 585010, 926153, 163649, 907716, 755067, 849589, 33569, 868377, 390600, 846479, 511448, 729383, 291770,
        751379, 360111, 55197, 27837, 924331, 6432, 756520, 905737, 91007, 658486, 924844, 914147, 830370, 452353,
        293905, 44208, 430408, 216068, 983013, 32459, 188066, 732665, 9733, 258279, 58974, 713882, 860490, 793805,
        17797, 657976, 96327, 899034, 574961, 595053, 598595, 98031, 49788, 403876, 613525, 969639, 263062, 351063,
        504718, 655453, 410703, 296920, 993720, 414837, 194518, 810576, 65303, 108663, 470092, 886993, 73890, 233888,
        31987, 807191, 532373, 330613, 597922, 107680, 439796, 331297, 397241, 749423, 989544, 767512, 143100, 328975,
        119024, 115657, 641063, 673445, 253831, 300990, 811554, 581710, 861509, 815681, 94574, 516251, 648714, 200445,
        755922, 411911, 27554, 945209, 906406, 848982, 213353, 318521, 221004, 171514, 764500, 641967, 15166, 617131,
        680610, 780004, 949043, 881354, 769241, 873902, 13626, 950322, 340020, 749588, 642074, 421636, 708688, 223535,
        61659, 995436, 852158, 749280, 544606, 458747, 736246, 681428, 520997, 83547, 660080, 454024, 801100, 614064,
        563454, 200210, 499919, 66984, 564108, 185700, 909984, 16960, 71714, 505548, 64111, 643747, 704156, 233889,
        782378, 139481, 720517, 748504, 19624, 517077, 355337, 996496, 793979, 849826, 994420, 424921, 664513, 547512,
        218554, 313936, 268105, 851574, 781014, 134757, 667948, 71930, 712334, 207987, 477742, 363318, 686030, 416791,
        215338, 357448, 355122, 99500, 437421, 513749, 532748, 911452, 106801, 957797, 456903, 752010, 892270, 109316,
        227064, 125282, 711199, 429716, 335054, 555123, 514435, 662746, 777596, 1055, 714752, 223982, 40153, 636982,
        473591, 56636, 468326, 576324, 951929, 112347, 597416, 105856, 763645, 722883, 390703, 619602, 917060, 339342,
        6569, 695873, 903908, 201930, 647820, 167450, 845300, 974188, 36070, 206984, 951673, 10656, 636072, 646844,
        454633, 704223, 781915, 217972, 475818, 523097, 302305, 950512, 220351, 495639, 422701, 239976, 884548, 534887,
        58311, 764375, 379198, 101779, 789913, 374227, 85995, 504351, 982034, 516966, 128556, 395526, 545289, 963368,
        928849, 4928, 911296, 861752, 10999, 346433, 655953, 289754, 582120, 385202, 585719, 375122, 664933, 386270,
        413965, 573997, 235232, 987666, 973751, 93557, 584556, 500413, 775176, 882064, 807842, 521494, 243734, 846205,
        403021, 425981, 929333, 10926, 398674, 993740, 602862, 580863, 423034, 782462, 166412, 582156, 828794, 878158,
        655222, 663863, 442865, 287916, 335646, 383079, 229669, 220815, 767045, 704006, 323243, 237753, 965571, 729479,
        391833, 359291, 140154, 683307, 636845, 383046, 397870, 636786, 235347, 222136, 980398, 832459, 204167, 271334,
        336522, 391011, 5640, 19455, 307082, 965558, 477487, 56833, 858535, 15202, 401683, 874051, 610932, 396703,
        329490, 757715, 778415, 251962, 188214, 94571, 198289, 275625, 86273, 536670, 149179, 116866, 642410, 188533,
        413586, 118907, 577977, 110103, 534236, 418365, 59919, 247716, 278326, 934191, 296493, 419324, 137231, 533053,
        757718, 782352, 20457, 967827, 907350, 433075, 978412, 262033, 286764, 320793, 955850, 335252, 941345, 575327,
        836670, 681893, 42215, 387788, 819724, 976559, 713856, 455193, 208760, 552390, 29406, 627697, 166308, 463632,
        912318, 947562, 543346, 3271, 97126, 795490, 960984, 245892, 541628, 565196, 751646, 748805, 990763, 399421,
        330701, 754193, 553174, 820337, 978361, 970128, 330777, 15453, 525898, 101361, 325569, 256665, 405160, 370673,
        376120, 80534, 603418, 928869, 785553, 661752, 669064, 450718, 5780, 258121, 717952, 307190, 499453, 86953,
        218842, 86692, 188207, 547246, 81422, 172800, 879456, 496089, 498415, 482492, 209513, 537457, 41369, 866737,
        1762, 546250, 235508, 88384, 91426, 541581, 90993, 765206, 513546, 435297, 610732, 431795, 899070, 578141,
        176460, 958243, 74330, 615002, 859258, 832474, 210194, 794874, 428804, 812149, 802058, 126411, 588434, 72791,
        103655, 284768, 212799, 28010, 821170, 562071, 819240, 275711, 331107, 539758, 762306, 4390, 395327, 739931,
        259208, 449092, 770847, 473855, 740710, 326747, 141650, 763661, 158703, 88344, 870462, 359025, 15481, 905966,
        666779, 620946, 939810, 561852, 77067, 998657, 704713, 183468, 766718, 687636, 152696, 79954, 90434, 337675,
        84243, 746741, 751230, 365888, 761300, 676990, 10335, 216954, 219511, 387295, 44871, 142054, 18177, 277594,
        779181, 910425, 433852, 863991, 697872, 147683, 99549, 317679, 213806, 171167, 534536, 275391
    };

    constexpr int expected_result{113623463};
    EXPECT_EQ(expected_result, find_score_using_heap(input));
}
